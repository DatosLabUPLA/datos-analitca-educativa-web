location / {
    # Primero intenta servir el archivo directamente, luego el directorio, luego 404
    try_files $uri $uri/ =404;
    
    # Rewrite para URLs de proyecto
    # /proyecto/slug -> /proyecto.html?slug=slug
    rewrite ^/proyecto/([a-zA-Z0-9\-]+)/?$ /proyecto.html?slug=$1 last;
}

# Asegurar que proyecto.html se sirva correctamente
location = /proyecto.html {
    try_files $uri =404;
}

# Custom 404 page
error_page 404 /404.html;
location = /404.html {
    internal;
}
