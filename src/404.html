<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Redireccionando...</title>
    <script>
        // Redirecci칩n para URLs amigables
        (function() {
            console.log('404.html cargado');
            console.log('Pathname actual:', window.location.pathname);
            console.log('Href completo:', window.location.href);
            
            // Capturar la ruta actual
            var path = window.location.pathname;
            
            // Verificar si es una ruta de proyecto: /proyecto/slug o /proyecto/slug/
            // Tambi칠n considerar rutas con /proyectos/ (plural)
            var projectMatch = path.match(/^\/proyectos?\/([^\/]+)\/?$/);
            
            if (projectMatch) {
                var slug = projectMatch[1];
                console.log('Slug detectado:', slug);
                
                // Guardar el slug en sessionStorage para que proyecto.html lo lea
                sessionStorage.setItem('projectSlug', slug);
                console.log('Slug guardado en sessionStorage');
                
                // Redirigir a proyecto.html
                console.log('Redirigiendo a /proyecto.html');
                window.location.replace('/proyecto.html');
            } else {
                console.log('No es una ruta de proyecto, redirigiendo a home');
                // Si no es una ruta de proyecto, esperar 3 segundos y luego ir a la p치gina principal
                setTimeout(function() {
                    window.location.replace('/');
                }, 3000);
            }
        })();
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
            background-color: #f4f4f4;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        h1 { color: #333; }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .debug {
            margin-top: 20px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 5px;
            font-size: 12px;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>游댃 Redireccionando...</h1>
        <div class="spinner"></div>
        <p>Est치s siendo redirigido al proyecto solicitado.</p>
        <p>Si no eres redirigido autom치ticamente, <a href="/">haz clic aqu칤</a>.</p>
        
        <div class="debug">
            <strong>Debug Info:</strong><br>
            <span id="debug-path"></span>
        </div>
    </div>
    
    <script>
        // Mostrar informaci칩n de debug
        document.getElementById('debug-path').innerHTML = 
            'Ruta: ' + window.location.pathname + '<br>' +
            'URL completa: ' + window.location.href;
    </script>
</body>
</html>
